<div id="content-area">

    <h2 class="mb-4">Opção Escolhida: {{ mode }}</h2>
    <p class="text-secondary">Arraste e solte o seu arquivo PDF para iniciar a transmutação.</p>

    {% if errors %}
        <div class="alert alert-danger" role="alert">
            Houve um erro no upload:
            <ul>
            {% for field, error_list in errors.items %}
                <li>{{ field }}: {{ error_list|join:", " }}</li>
            {% endfor %}
            </ul>
        </div>
    {% endif %}

    <form hx-post="{% url 'upload_file' %}" 
          hx-target="#content-area" 
          hx-swap="outerHTML" 
          enctype="multipart/form-data">
        
        {% csrf_token %}

        <input type="hidden" name="tipo_transfomacao" value="{{ mode }}">

        <div class="mb-3">
            <label for="id_arquivo_original" class="form-label">Selecione o PDF:</label>
            <input type="file" 
                   name="arquivo_original" 
                   id="id_arquivo_original" 
                   accept="application/pdf"
                   class="form-control" 
                   required>
            <div class="form-text text-light-emphasis">Apenas arquivos PDF são aceitos.</div>
        </div>

        <div class="d-flex justify-content-between mt-4">
            <button type="button" 
                    class="btn btn-outline-secondary"
                    hx-get="{% url 'dashboard' %}"
                    hx-target="#content-area"
                    hx-swap="outerHTML">
                &larr; Voltar
            </button>

            <button type="submit" class="btn btn-primary">
                Iniciar Transmutação (Processar)
            </button>
        </div>
    </form>
</div>